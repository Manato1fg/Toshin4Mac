<!DOCTYPE html>
<html>

<head>
</head>

<body>
    <video id="video" width="800" controls autoplay style="position:absolute; left: 100px;"></video>
    <h2 style="position:absolute; left: 100px; top:450px;" id="title">Title</h2>
    <h3 style="position:absolute; left: 100px; top:480px;" id="userid">userid</h3>

    <!-- Shaka Player compiled library: -->
    <script src="js/shaka-player.compiled.min.js"></script>
    <!-- Your application source: -->
    <script src="js/app.js"></script>

    <script>
        function initData(url, _ticket, _titleText, _userid) {
            initApp(url, _ticket, _titleText, _userid);
        }

        // URLのパラメータを取得
        var urlParam = location.search.substring(1);

            // URLにパラメータが存在する場合
            if (urlParam) {
                // 「&」が含まれている場合は「&」で分割
                var param = urlParam.split('&');

                // パラメータを格納する用の配列を用意
                var paramArray = [];

                // 用意した配列にパラメータを格納
                for (i = 0; i < param.length; i++) {
                    var paramItem = param[i].split('=');
                    paramArray[paramItem[0]] = paramItem[1];
                }

                

                initData(Base64.decode(paramArray.url), paramArray.ticket, Base64.decode(paramArray.title), paramArray.userid);
            }
        var Base64 = {
                encode: function (str) {
                    return btoa(unescape(encodeURIComponent(str)));
                },
                decode: function (str) {
                    return decodeURIComponent(escape(atob(str)));
                }
            };
    </script>
</body>

</html>